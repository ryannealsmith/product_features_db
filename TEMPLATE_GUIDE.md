# JSON Update Templates for Product Feature Readiness Database v4.1

This directory contains comprehensive JSON templates for managing the Product Feature Readiness Database. Each template serves different use cases and demonstrates various aspects of the enhanced JSON update system with M:N relationships and the web-based JSON Editor.

## Available Templates

### 1. `template_updates.json` (Auto-generated)
**Purpose**: Basic template with all entity types and operations  
**Use Case**: Learning the JSON structure and testing basic functionality  
**Generated by**: `python update_from_json.py --template`

### 2. `repository_update_data_final_colin3.json` (Active Data File)
**Purpose**: The primary JSON data file managed by both CLI and web interface  
**Use Case**: Current system state with all entities and relationships  
**Features**:
- Enhanced M:N relationship structure (Product Features ↔ Capabilities ↔ Technical Functions)
- Complete entity definitions with labels and metadata
- Automatic backups before modifications
- Web editor compatible format
- Real autonomous vehicle industry examples

### 3. `simple_update_template.json` (Quick Start)
**Purpose**: Simple template for common operations  
**Use Case**: Quick updates and basic entity creation  
**Features**:
- Progress updates for existing entities
- Basic entity creation
- Minimal required fields
- Easy to customize

### 4. `monthly_progress_template.json` (Reporting)
**Purpose**: Monthly progress reporting and milestone tracking  
**Use Case**: Regular progress updates and status reporting  
**Features**:
- Progress percentage updates
- Milestone tracking
- Description updates with current status
- Timeline adjustments

## Template Usage Guide

### Quick Start (Recommended - Web Interface)
```bash
# 1. Start the application
./.venv/bin/python app.py

# 2. Navigate to the JSON Editor
# Open browser to http://localhost:8080/json_editor

# 3. Use the web interface to add/edit/delete entities
# Changes are automatically saved to repository_update_data_final_colin3.json
```

### Command Line Interface
```bash
# Generate basic template
python update_from_json.py --template

# Import from the main data file
./.venv/bin/python update_from_json.py repository_update_data_final_colin3.json

# Export current database state
python update_from_json.py --export current_backup.json
```

### For Monthly Reporting
```bash
# Use the monthly progress template
cp monthly_progress_template.json october_2025_progress.json
# Update with current month's progress
python update_from_json.py october_2025_progress.json
```

## Template Customization

### Before Using Any Template:

1. **Replace Placeholder Values**:
   - Update entity names to match your actual data
   - Replace `REPLACE_WITH_ACTUAL_*` placeholders
   - Update dates, percentages, and descriptions

2. **Verify Relationships**:
   - Ensure referenced entities exist in your database
   - Use `python update_from_json.py --export` to see current entity names

3. **Test with Small Batches**:
   - Start with a few entities to test the template
   - Use validation errors to refine your data

### Template Structure (v4.1)
All templates follow this enhanced structure:
```json
{
  "metadata": {
    "version": "4.1",
    "description": "What this update does",
    "created_by": "Your Name",
    "created_date": "2025-10-28"
  },
  "entities": [
    {
      "entity_type": "product_feature|capability|technical_function", 
      "operation": "create|update|delete",
      "label": "PF-001|CAP-001|TF-001",
      "name": "Entity Name",
      // Enhanced M:N relationship fields
      "product_feature_ids": ["PF Name 1", "PF Name 2"],  // For capabilities
      "capability_ids": ["Cap Name 1", "Cap Name 2"],     // For technical functions
      // Additional fields based on entity type
    }
  ]
}
```

## Example Workflows

### 1. Adding New Autonomous Feature (Web Interface - Recommended)
```bash
# Start the application
./.venv/bin/python app.py

# Use the JSON Editor at http://localhost:8080/json_editor
# 1. Click "Add New Entity" 
# 2. Select entity type (product_feature, capability, technical_function)
# 3. Fill in the form with your data
# 4. Click "Save All Changes" to persist to server
```

### 2. Monthly Progress Update (Command Line)
```bash
# Export current state for reference
python update_from_json.py --export current_state.json
# Edit the main data file
# Use JSON Editor or direct file editing
./.venv/bin/python update_from_json.py repository_update_data_final_colin3.json
```

### 3. Bulk Import/Export Operations
```bash
# Export from web interface or command line
python update_from_json.py --export backup_$(date +%Y%m%d).json

# Import using web interface upload or command line
./.venv/bin/python update_from_json.py imported_data.json
```

## Validation and Safety

### Before Running Updates:
1. **Backup Database**: `python update_from_json.py --export backup_YYYYMMDD.json`
2. **Validate JSON**: Use online JSON validators to check syntax
3. **Test with Subset**: Start with a few entities before running full update
4. **Check Dependencies**: Use `force_delete: false` for safe deletions

### After Running Updates:
1. **Review Output**: Check for any warnings or errors
2. **Verify in Web Interface**: Check results at http://127.0.0.1:8080
3. **Export Updated State**: Create new backup if satisfied

## Advanced Features Demonstrated

### Current System Features (v4.1):
- **Enhanced M:N Structure**: Product Features ↔ Capabilities ↔ Technical Functions
- **Web-based JSON Editor**: Interactive CRUD interface with modal forms
- **Automatic Backups**: Timestamped backups before each save operation
- **Label-based Organization**: Structured entity labeling (PF-001, CAP-001, TF-001)
- **Real-time Validation**: Client and server-side validation with error reporting
- **Export/Import**: Seamless data exchange through web and command interfaces

### Supported Operations:
- **Create**: New entities with full M:N relationship setup
- **Update**: Selective field updates and relationship changes  
- **Delete**: Safe deletion with confirmation dialogs
- **Duplicate**: Copy existing entities with automatic naming
- **Export**: JSON download with metadata and timestamps
- **Import**: File upload with validation and error handling

## Troubleshooting Templates

### Common Issues:
1. **Entity Not Found**: Check spelling of entity names in relationships
2. **Validation Errors**: Fix field types, ranges, and required fields
3. **JSON Syntax**: Validate JSON format before running
4. **Dependency Conflicts**: Review dependency warnings and resolve

### Getting Entity Names:
```bash
# Export current database to see exact entity names
python update_from_json.py --export reference.json
# Check the exported file for exact spellings
```

## Best Practices

1. **Start Simple**: Use basic templates before complex ones
2. **Incremental Updates**: Process changes in small batches
3. **Document Changes**: Use descriptive metadata
4. **Test First**: Validate with small updates before large changes
5. **Backup First**: Always export current state before major changes
6. **Review Results**: Check web interface after updates

These templates provide a comprehensive foundation for managing your autonomous vehicle capability database through structured, repeatable JSON updates.